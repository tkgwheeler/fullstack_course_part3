{"version":3,"sources":["services/phonenumbers.js","components/phonebook/contact.js","components/phonebook/contacts.js","components/phonebook/filter.js","components/phonebook/form.js","components/phonebook/notification.js","index.js"],"names":["baseUrl","phonenumbers","axios","get","then","response","data","newObject","post","id","url","concat","console","log","delete","put","Contact","_ref","name","number","removePerson","react_default","a","createElement","onClick","contactService","handleDelete","Contacts","persons","filter","rows","person","toLowerCase","includes","map","contact","key","Filter","term","change","value","onChange","event","target","Form","props","newName","setPersons","setNewName","newNumber","handleNameChange","handleNumberChange","setMessage","onSubmit","preventDefault","personObject","findIndex","item","returnedContact","setTimeout","catch","error","window","confirm","personToUpdateId","updatedPerson","type","Notification","message","className","ReactDOM","render","_useState","useState","_useState2","Object","slicedToArray","_useState3","_useState4","_useState5","_useState6","setNewNumber","_useState7","_useState8","setFilter","_useState9","_useState10","useEffect","initialContacts","notification","phonebook_filter","phonebook_form","contacts","document","getElementById"],"mappings":"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","file":"static/js/main.064f430e.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst remove = id => {\r\n  const url = `${baseUrl}/${id}`;\r\n  console.log(url);\r\n  const request = axios.delete(url);\r\n  return request;\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n  const url = `${baseUrl}/${id}`;\r\n  console.log(\"Details are:\", url, id, newObject);\r\n  const request = axios.put(url, newObject);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nexport default {\r\n  getAll,\r\n  create,\r\n  remove,\r\n  update\r\n};\r\n","import React from \"react\";\r\nimport contactService from \"../../services/phonenumbers\";\r\n\r\nconst Contact = ({ name, number, id, removePerson }) => {\r\n  const handleDelete = id => {\r\n    contactService.remove(id);\r\n    removePerson(id);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <p>\r\n        {name} : {number}\r\n      </p>\r\n      <button onClick={() => handleDelete(id)}>Delete</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Contact;\r\n","import React from \"react\";\r\nimport Contact from \"./contact\";\r\n\r\nconst Contacts = ({ persons, filter, removePerson }) => {\r\n  const rowsToShow = persons.filter(person =>\r\n    person.name.toLowerCase().includes(filter.toLowerCase())\r\n  );\r\n  const rows = rowsToShow.map(person => (\r\n    <Contact\r\n      key={person.id}\r\n      name={person.name}\r\n      number={person.number}\r\n      id={person.id}\r\n      removePerson={removePerson}\r\n    />\r\n  ));\r\n  return <div>{rows}</div>;\r\n};\r\n\r\nexport default Contacts;\r\n","import React from \"react\";\r\n\r\nconst Filter = ({ term, change }) => {\r\n  const handleFilterChange = event => {\r\n    change(event.target.value);\r\n  };\r\n  return (\r\n    <div>\r\n      Filter contact: <input value={term} onChange={handleFilterChange} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\nimport contactService from \"../../services/phonenumbers\";\r\n\r\nconst Form = props => {\r\n  const {\r\n    newName,\r\n    persons,\r\n    setPersons,\r\n    setNewName,\r\n    newNumber,\r\n    handleNameChange,\r\n    handleNumberChange,\r\n    setMessage\r\n  } = props;\r\n  const addPerson = event => {\r\n    event.preventDefault();\r\n    const personObject = {\r\n      name: newName,\r\n      number: newNumber\r\n    };\r\n    // Check for the name in the server. If it exists update it, otherwise add new entry\r\n    if (persons.findIndex(item => item.name === personObject.name) === -1) {\r\n      contactService\r\n        .create(personObject)\r\n        .then(returnedContact => {\r\n          setPersons(persons.concat(returnedContact));\r\n          setNewName(\"\");\r\n          setMessage(`${personObject.name} was added`);\r\n          setTimeout(() => {\r\n            setMessage(null);\r\n          }, 5000);\r\n        })\r\n        .catch(error => {\r\n          setMessage(error.response.data.error);\r\n          setTimeout(() => {\r\n            setMessage(null);\r\n          }, 5000);\r\n        });\r\n    } else if (\r\n      window.confirm(\r\n        `${personObject.name} already exists. Would you like to update their number?`\r\n      )\r\n    ) {\r\n      const personToUpdateId =\r\n        persons[persons.findIndex(item => item.name === personObject.name)].id;\r\n\r\n      contactService\r\n        .update(personToUpdateId, personObject)\r\n        .then(updatedPerson => {\r\n          setPersons(\r\n            persons.map(person =>\r\n              person.id !== updatedPerson.id ? person : updatedPerson\r\n            )\r\n          );\r\n        })\r\n        .catch(error => {\r\n          setMessage(`Error when updating ${personObject.name} entry`);\r\n        });\r\n      setMessage(\r\n        `${personObject.name}'s number was updated to ${personObject.number}`\r\n      );\r\n      setTimeout(() => {\r\n        setMessage(null);\r\n      }, 5000);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={addPerson}>\r\n      <div>\r\n        name: <input value={newName} onChange={handleNameChange} />\r\n        number: <input value={newNumber} onChange={handleNumberChange} />\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Form;\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ message }) => {\r\n  if (message === null) {\r\n    return null;\r\n  }\r\n  return (\r\n    <div className=\"notification\">\r\n      <p className=\"notification-text\">{message}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"../src/index.css\";\r\nimport Contacts from \"./components/phonebook/contacts\";\r\nimport Filter from \"./components/phonebook/filter\";\r\nimport Form from \"./components/phonebook/form\";\r\nimport Notification from \"./components/phonebook/notification\";\r\nimport contactService from \"../src/services/phonenumbers\";\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [newName, setNewName] = useState(\"Andy\");\r\n  const [newNumber, setNewNumber] = useState(\"555-555-555\");\r\n  const [filter, setFilter] = useState(\"\");\r\n  const [message, setMessage] = useState(null);\r\n\r\n  const handleNameChange = event => {\r\n    setNewName(event.target.value);\r\n  };\r\n\r\n  const handleNumberChange = event => {\r\n    setNewNumber(event.target.value);\r\n  };\r\n\r\n  const handleRemovePerson = id => {\r\n    setPersons(persons.filter(person => person.id !== id));\r\n  };\r\n\r\n  useEffect(() => {\r\n    contactService.getAll().then(initialContacts => {\r\n      setPersons(initialContacts);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <Notification message={message} />\r\n      <h1>Phonebook</h1>\r\n      <Filter term={filter} change={setFilter} />\r\n      <h2>Add a new contact</h2>\r\n      <Form\r\n        newName={newName}\r\n        persons={persons}\r\n        setPersons={setPersons}\r\n        setNewName={setNewName}\r\n        newNumber={newNumber}\r\n        handleNameChange={handleNameChange}\r\n        handleNumberChange={handleNumberChange}\r\n        setMessage={setMessage}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <Contacts\r\n        persons={persons}\r\n        filter={filter}\r\n        removePerson={handleRemovePerson}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}